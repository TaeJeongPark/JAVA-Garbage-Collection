# JAVA-Garbage-Collection
자바의 가비지 컬렉션에 대한 내용을 담았습니다.

# 조사한 내용

자바의 가비지 컬렉션(Garbage Collection)은 자동 메모리 관리 기능으로, 프로그램에서 사용되지 않는 객체를 식별하여 자동으로 메모리에서 해제하는 프로세스입니다. 가비지 컬렉션은 개발자가 명시적으로 메모리를 해제하지 않아도 됨으로써 프로그래밍 과정을 단순화하고, 메모리 누수나 잘못된 메모리 관리로 인한 버그를 방지하는 데 도움을 줍니다.

아래는 가비지 컬렉션에 대한 자세한 설명입니다.

- 가비지 컬렉션의 작동 원리:

가비지 컬렉션은 자바 가상 머신(JVM)에 의해 관리됩니다. JVM은 프로그램 실행 도중에 메모리 사용을 모니터링하고, 더 이상 참조되지 않는 객체를 식별하여 메모리에서 해제합니다.
가비지 컬렉션은 주기적으로 또는 필요할 때마다 실행될 수 있습니다. JVM은 자체적으로 가비지 컬렉션 실행 시점을 결정하며, 개발자가 직접 제어할 수 없습니다.

- 객체의 생존 여부 결정:

가비지 컬렉션은 참조되지 않는 객체를 식별하여 메모리에서 제거합니다. 객체의 생존 여부는 'Reachability(도달 가능성)'라는 개념에 기반합니다.
도달 가능한 객체는 다른 객체로부터 직간접적인 참조를 받는 객체입니다. 도달 가능한 객체는 프로그램의 실행 흐름 상에서 접근 가능하므로 가비지 컬렉션의 대상이 되지 않습니다.
도달 가능하지 않은 객체는 더 이상 참조되지 않는 객체로 판단하고, 가비지 컬렉션의 대상이 됩니다.

- 가비지 컬렉션 알고리즘:

가비지 컬렉션은 일반적으로 다음 두 가지 알고리즘 중 하나를 사용합니다.

'Mark and Sweep': 이 알고리즘은 객체의 도달 가능성을 확인하기 위해 가비지 컬렉션 실행 시 모든 객체를 훑으면서 참조 여부를 표시(mark)한 후, 표시되지 않은 객체를 메모리에서 해제(sweep)합니다.

'Copying': 이 알고리즘은 메모리를 두 개의 영역으로 나누고, 한 영역에 있는 객체를 다른 영역으로 복사하는 방식으로 가비지 컬렉션을 수행합니다. 복사 중에 도달 가능한 객체만을 복사하고, 복사가 완료된 영역의 객체를 모두 해제합니다.
이 외에도 다른 가비지 컬렉션 알고리즘들이 존재하며, JVM 구현에 따라 다양한 가비지 컬렉션 알고리즘을 조합하여 사용할 수 있습니다.

- 가비지 컬렉션의 장단점:

장점:
메모리 누수와 같은 일반적인 메모리 관리 버그를 방지합니다.
개발자가 메모리 해제를 명시적으로 처리할 필요가 없으므로 개발 생산성을 향상시킵니다.
동적 메모리 할당과 해제로 인한 프로그래밍 오류를 줄일 수 있습니다.

단점:
가비지 컬렉션은 실행 시점과 주기를 개발자가 제어할 수 없으므로, 일부 상황에서는 예측할 수 없는 지연이 발생할 수 있습니다.
가비지 컬렉션 작업을 수행하면 프로세스의 일시 중단이 필요할 수 있으며, 이는 실시간 응용 프로그램과 같은 특정 환경에서 문제가 될 수 있습니다.

가비지 컬렉션은 자바의 중요한 기능 중 하나이며, 메모리 관리 부담을 줄여줌으로써 안정적이고 효율적인 프로그램 실행을 가능하게 합니다.

- 가비지 컬렉션의 필요성:

1. 메모리 관리의 편의성: 가비지 컬렉션을 사용하면 개발자가 메모리 해제를 명시적으로 처리하지 않아도 됩니다. 객체가 더 이상 사용되지 않을 때 자동으로 메모리에서 해제되므로, 개발자는 메모리 관리에 대한 부담을 줄일 수 있습니다. 메모리 누수나 잘못된 메모리 해제로 인한 버그를 방지할 수 있습니다.

2. 동적 메모리 할당과 해제의 용이성: 자바는 동적 메모리 할당을 지원합니다. 객체를 생성하고 사용한 후에는 해당 객체가 더 이상 필요하지 않을 수 있습니다. 가비지 컬렉션을 사용하면 더 이상 필요하지 않은 객체를 자동으로 해제하여 메모리를 반환할 수 있습니다. 이를 통해 메모리 관리에 대한 복잡성을 줄이고 개발자가 메모리 할당과 해제에 대해 직접적으로 신경쓰지 않아도 됩니다.

3. 메모리 누수 방지: 명시적인 메모리 해제를 처리하지 않을 경우, 개발자가 놓칠 수 있는 메모리 누수가 발생할 수 있습니다. 가비지 컬렉션은 도달할 수 없는 객체를 식별하여 메모리에서 해제하므로, 메모리 누수를 방지할 수 있습니다.

4. 프로그램 안정성: 메모리 관리 버그는 심각한 문제를 일으킬 수 있습니다. 가비지 컬렉션은 개발자가 메모리 관리를 신경쓰지 않아도 되므로, 메모리 관련 오류를 예방하여 프로그램의 안정성을 향상시킵니다.

5. 성능 최적화: 가비지 컬렉션은 메모리 사용을 모니터링하고 더 이상 사용되지 않는 객체를 해제하여 사용 가능한 메모리 공간을 최적화합니다. 이를 통해 더 효율적인 메모리 관리와 프로그램 실행을 가능하게 합니다.

가비지 컬렉션은 자바와 같은 고급 언어에서 메모리 관리를 자동화하여 개발자의 부담을 줄이고 프로그램의 안정성과 성능을 향상시킵니다.

- 가비지 컬렉션의 매커니즘:

1. 도달 가능성(Reachability) 판별: 가비지 컬렉션은 도달 가능한 객체와 도달할 수 없는 객체를 구분합니다. 도달 가능한 객체는 다른 객체로부터 직접적이거나 간접적인 참조를 받는 객체입니다. 도달할 수 없는 객체는 더 이상 참조되지 않는 객체로 판단됩니다.

2. 객체의 표시(Mark): 가비지 컬렉션은 도달 가능한 객체가 아닌 모든 객체를 표시(mark)합니다. 일반적으로 가비지 컬렉션은 객체 그래프를 훑으면서 도달 가능한 객체를 표시합니다. 이 과정은 모든 참조 체인을 따라가며 표시를 수행합니다.

3. 객체의 해제(Sweep): 객체의 표시 단계 이후, 표시되지 않은 객체들은 메모리에서 해제(sweep)됩니다. 이 단계에서 가비지 컬렉션은 표시되지 않은 객체의 메모리를 해제하여 사용 가능한 메모리 공간으로 반환합니다.

가비지 컬렉션은 주기적으로 또는 필요에 따라 실행됩니다. JVM은 가비지 컬렉션을 수행하는 시점을 결정하며, 이는 JVM 구현에 따라 다를 수 있습니다. 또한, 가비지 컬렉션 알고리즘은 JVM마다 다를 수 있으며, 대표적으로 'Mark and Sweep', 'Copying', 'Generational' 등의 알고리즘이 사용됩니다.

가비지 컬렉션은 자동으로 실행되며 개발자는 직접적으로 가비지 컬렉션을 호출하거나 조작할 수 없습니다. 이는 개발자가 메모리 관리에 대한 부담을 덜어주고, 메모리 누수와 같은 일반적인 메모리 관리 오류를 방지합니다.

- 가비지 컬렉션을 사용해도 메모리 누수가 발생하는 경우: 가비지 컬렉션을 사용하더라도 메모리 누수가 발생할 수 있습니다. 주로 다음과 같은 상황에서 메모리 누수가 발생할 수 있습니다.

1. 잘못된 참조 유지: 객체에 대한 참조를 유지하고 있어서 해당 객체가 더 이상 필요하지 않더라도 가비지 컬렉션에 의해 해제되지 않는 경우입니다. 예를 들어, 컬렉션에 객체를 추가한 후에 해당 객체를 명시적으로 제거하지 않으면 해당 객체는 계속해서 유지되며 가비지 컬렉션의 대상이 되지 않습니다.

2. 순환 참조: 객체들 간에 순환 참조가 형성되어 있는 경우, 이러한 객체들은 도달 가능한 객체로 판단되어 가비지 컬렉션에 의해 해제되지 않습니다. 순환 참조가 발생하는 예시로는 양방향 연결 리스트나 그래프 구조 등이 있습니다. 이러한 경우에는 개발자가 순환 참조를 해제하거나 약한 참조(Weak Reference)와 같은 메커니즘을 사용하여 가비지 컬렉션의 동작을 조절할 수 있습니다.

3. 자원 누수: 가비지 컬렉션은 주로 메모리 관리를 담당하지만, 다른 자원들에 대해서는 직접 관여하지 않습니다. 예를 들어, 파일 핸들이나 데이터베이스 커넥션과 같은 자원들을 제대로 해제하지 않으면 해당 자원들은 계속해서 사용 중인 상태로 남게 됩니다. 이러한 자원 누수는 메모리 뿐만 아니라 시스템 리소스 전반에 영향을 미칠 수 있습니다.

메모리 누수를 방지하기 위해서는 다음과 같은 조치를 취할 수 있습니다.

1. 사용하지 않는 객체에 대한 명시적인 참조 해제

2. 순환 참조를 피하기 위해 객체 간의 연결을 적절히 관리

3. 자원을 사용한 후에는 명시적으로 자원을 해제

4. 메모리 사용 패턴을 분석하여 메모리 사용량을 최적화

가비지 컬렉션은 메모리 관리를 보조해주는 도구이지만, 개발자는 여전히 메모리 사용에 주의를 기울여야 하며, 메모리 누수 가능성이 있는 상황을 피하기 위해 적절한 방법을 적용해야 합니다.

# 조사한 내용을 바탕으로 한 작성자의 내용 요약 정리

가비지 컬렉션은 더 이상 사용하지 않는 객체를 메모리에서 해지시킴으로써 메모리 누수와 메모리 관리를 잘못하여 발생할 수 있는 버그들을 방지하고, 이를 통해 프로그램을 최적화 하는 기능입니다.
가비지 컬렉션은 JVM에 의해 자동 실행되며, 개발자가 직접 컨트롤 할 수 없습니다.
가비지 컬렉션은 도달 가능성 판별 -> 객체의 표시 -> 객체의 해제 순서로 동작합니다.
JVM이 프로그램이 실행될 때 메모리를 모니터링하고, 더 이상 참조되지 않는 객체를 발견하면 이를 메모리에서 해제시킵니다.
